<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2376px" preserveAspectRatio="none" style="width:1321px;height:2376px;" version="1.1" viewBox="0 0 1321 2376" width="1321px" zoomAndPan="magnify"><defs/><g><!--cluster core_nodes--><rect fill="#FFFFFF" height="1600" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="844" x="14" y="406"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="395" y="423.4688">RadixCore</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="401.5" y="438.4453">[Container]</text><!--entity api--><rect fill="#85BBF0" height="137.7734" style="stroke: #78A8D8; stroke-width: 1.5;" width="187" x="177.5" y="449"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="198.5" y="474.4688">HTTP/WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="242.5" y="493.3125">Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="137" x="202.5" y="508.2891">[Component: Undertow]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="273" y="524.3555"/><a target="_top" xlink:actuate="onRequest" xlink:href="http://undertow.io/" xlink:show="new" xlink:title="http://undertow.io/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="67" x="215" y="540.8438">Undertow</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="215" x2="282" y1="542.8438" y2="542.8438"/></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="286" y="540.8438">is the</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="187.5" y="557.332">HTTP/WebSocket server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="228.5" y="573.8203">Component.</text><!--entity atom_controller--><rect fill="#85BBF0" height="154.2617" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="93.5" y="1177"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="136" y="1202.4688">Real-time Atom</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="162.5" y="1221.3125">Controller</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="145.5" y="1236.2891">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="205" y="1252.3555"/><a target="_top" xlink:actuate="onRequest" xlink:href="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines" xlink:show="new" xlink:title="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="111" y="1268.8438">Heirarchical State Machine</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="111" x2="291" y1="1270.8438" y2="1270.8438"/></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="295" y="1268.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="103.5" y="1285.332">validates Atoms (local state).</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="189" x="106.5" y="1301.8203">Multiple HFSMs are running</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="158" y="1318.3086">concurrently.</text><!--entity cm--><rect fill="#85BBF0" height="154.2617" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="93.5" y="1571"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137" x="132" y="1596.4688">UTXO Constraint</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="168.5" y="1615.3125">Machine</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="145.5" y="1630.2891">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="205" y="1646.3555"/><a target="_top" xlink:actuate="onRequest" xlink:href="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines" xlink:show="new" xlink:title="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="111" y="1662.8438">Heirarchical State Machine</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="111" x2="291" y1="1664.8438" y2="1664.8438"/></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="295" y="1662.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="103.5" y="1679.332">validates Atoms (local state).</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="189" x="106.5" y="1695.8203">Multiple HFSMs are running</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="158" y="1712.3086">concurrently.</text><!--entity crypto--><rect fill="#85BBF0" height="102.4414" style="stroke: #78A8D8; stroke-width: 1.5;" width="195" x="45.5" y="1887.5"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="85" y="1912.9688">Crypto Engine</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="161" x="62.5" y="1927.9453">[Component: Bouncy Castle]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="145" y="1944.0117"/><a target="_top" xlink:actuate="onRequest" xlink:href="https://www.bouncycastle.org/" xlink:show="new" xlink:title="https://www.bouncycastle.org/" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="55.5" y="1960.5">Bouncy Castle</text><line style="stroke: #0000FF; stroke-width: 1.0;" x1="55.5" x2="150.5" y1="1962.5" y2="1962.5"/></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="154.5" y="1960.5">is used for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="56.5" y="1976.9883">cryptograthic operations.</text><!--entity tempo--><rect fill="#85BBF0" height="135.418" style="stroke: #78A8D8; stroke-width: 1.5;" width="203" x="214.5" y="741"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="287.5" y="766.4688">Tempo</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="258.5" y="781.4453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="318" y="797.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="236.5" y="814">Proprietary Consensus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="236.5" y="830.4883">Engine responsible for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="224.5" y="846.9766">maintaining a conflict free</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="274" y="863.4648">global state.</text><!--entity rtp--><rect fill="#85BBF0" height="118.9297" style="stroke: #78A8D8; stroke-width: 1.5;" width="196" x="626" y="749"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="651" y="774.4688">Time Sync Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="666.5" y="789.4453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="726" y="805.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="172" x="636" y="822">Service that synchronises</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="639" y="838.4883">wall-clock time between</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="649.5" y="854.9766">nodes in the network.</text><!--entity atomsync--><rect fill="#85BBF0" height="118.9297" style="stroke: #78A8D8; stroke-width: 1.5;" width="216" x="379" y="1194.5"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="412.5" y="1219.9688">Atom Sync Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="429.5" y="1234.9453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="489" y="1251.0117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="172" x="399" y="1267.5">Service that synchronises</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="389" y="1283.9883">Ledger state between nodes</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="401.5" y="1300.4766">in the</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="444.5" y="1300.4766">same</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="486.5" y="1300.4766">shard space.</text><!--entity gossip_service--><rect fill="#85BBF0" height="151.9063" style="stroke: #78A8D8; stroke-width: 1.5;" width="209" x="630.5" y="1178"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="676" y="1203.4688">Gossip Service</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="677.5" y="1218.4453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="737" y="1234.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="185" x="640.5" y="1251">Service that sends/receives</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="649" y="1267.4883">Gossip about Atoms and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="654" y="1283.9766">other data (e.g. RTP) to</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="661.5" y="1300.4648">random nodes in the</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="705" y="1316.9531">network.</text><!--entity peermanager--><rect fill="#85BBF0" height="102.4414" style="stroke: #78A8D8; stroke-width: 1.5;" width="160" x="569" y="1597"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="593.5" y="1622.4688">Peer Manager</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="591.5" y="1637.4453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="651" y="1653.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="582.5" y="1670">Peer Discovery and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="579" y="1686.4883">Management service</text><!--entity atomstore--><rect fill="#85BBF0" height="118.9297" style="stroke: #78A8D8; stroke-width: 1.5;" width="186" x="348" y="1588.5"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="396" y="1613.9688">Atom Store</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="383.5" y="1628.9453">[Component: Radix]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="443" y="1645.0117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="358" y="1661.5">Optimises DB access for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="372.5" y="1677.9883">Radix (e.g. through</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="397.5" y="1694.4766">Bloomfilters)</text><!--entity db--><rect fill="#85BBF0" height="118.9297" style="stroke: #78A8D8; stroke-width: 1.5;" width="193" x="448.5" y="1879"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163" x="463.5" y="1904.4688">Key/Value Database</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="166" x="462" y="1919.4453">[Component: Berkeley DB JE]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="547" y="1935.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="169" x="458.5" y="1952">Swappable K/V database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="461" y="1968.4883">which stores Atoms and</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="484" y="1984.9766">various metadata.</text><!--entity ws_app1--><rect fill="#999999" height="104.7969" style="stroke: #8A8A8A; stroke-width: 1.5;" width="191" x="175.5" y="8"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="201.5" y="33.4688">WebSocket Client</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="273" y="50.3789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="186" y="66.8672">Custom Application that</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="188.5" y="83.3555">uses the WebSocket API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="185.5" y="99.8438">directly or indirectly (lib).</text><!--entity node1--><rect fill="#999999" height="71.8203" style="stroke: #8A8A8A; stroke-width: 1.5;" width="136" x="1126" y="772.5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="1144" y="797.9688">Core Node 1</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1196" y="814.8789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1136" y="831.3672">Other Core Node</text><!--entity node2--><rect fill="#999999" height="88.3086" style="stroke: #8A8A8A; stroke-width: 1.5;" width="263" x="866.5" y="1422"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="948" y="1447.4688">Core Node 2</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1000" y="1464.3789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="876.5" y="1480.8672">Other Core Node in an</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="1034.5" y="1480.8672">overlapping</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="958.5" y="1497.3555">Shard space</text><!--entity node3--><rect fill="#999999" height="71.8203" style="stroke: #8A8A8A; stroke-width: 1.5;" width="136" x="1165" y="1430"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="1183" y="1455.4688">Core Node 3</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1235" y="1472.3789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1175" y="1488.8672">Other Core Node</text><!--entity ntp1--><rect fill="#999999" height="104.7969" style="stroke: #8A8A8A; stroke-width: 1.5;" width="185" x="885.5" y="974"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="934" y="999.4688">NTP Server</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="980" y="1016.3789"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="895.5" y="1032.8672">Standard Network Time</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="900" y="1049.3555">Protocol Server on the</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="949" y="1065.8438">internet.</text><!--entity iptables--><rect fill="#438DD5" height="118.9297" style="stroke: #3C7FC0; stroke-width: 1.5;" width="176" x="1106" y="967"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="1145.5" y="992.4688">Rate Limiter</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="1123" y="1007.4453">[Container: Linux Kernel]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1196" y="1023.5117"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="1127.5" y="1040">DDoS mitigation of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="1131.5" y="1056.4883">Gossip/Sync from</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="1116" y="1072.9766">malicious/faulty nodes</text><!--entity nginx--><rect fill="#438DD5" height="133.0625" style="stroke: #3C7FC0; stroke-width: 1.5;" width="211" x="165.5" y="204"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="214.5" y="229.4688">Reverse Proxy</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="174" x="182" y="244.4453">[Container: NGINX/HAProxy in</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="248.5" y="258.5781">Docker]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="273" y="274.6445"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="192.5" y="291.1328">TLS termination, DDoS</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="178.5" y="307.6211">mitigation, authentication,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="175.5" y="324.1094">and filtering of API requests</text><!--entity ledger--><path d="M435,2108.5 C435,2098.5 545,2098.5 545,2098.5 C545,2098.5 655,2098.5 655,2108.5 L655,2199.9414 C655,2209.9414 545,2209.9414 545,2209.9414 C545,2209.9414 435,2209.9414 435,2199.9414 L435,2108.5 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M435,2108.5 C435,2118.5 545,2118.5 545,2118.5 C545,2118.5 655,2118.5 655,2108.5 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="496" y="2137.9688">Ledger Data</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="159" x="465.5" y="2152.9453">[Container: Docker Volume]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="547" y="2169.0117"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="200" x="445" y="2185.5">stores ledger data, metadata,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="464.5" y="2201.9883">index, and bloom filter.</text><!--entity secrets--><path d="M53.5,2100 C53.5,2090 143,2090 143,2090 C143,2090 232.5,2090 232.5,2100 L232.5,2207.9297 C232.5,2217.9297 143,2217.9297 143,2217.9297 C143,2217.9297 53.5,2217.9297 53.5,2207.9297 L53.5,2100 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M53.5,2100 C53.5,2110 143,2110 143,2110 C143,2110 232.5,2110 232.5,2100 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="114" y="2129.4688">Secrets</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="159" x="63.5" y="2144.4453">[Container: Docker Volume]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="145" y="2160.5117"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="81.5" y="2177">stores node keys,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="74" y="2193.4883">certificates, and API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="104.5" y="2209.9766">passwords.</text><!--link ws_app1 to nginx--><path d="M271,113.2208 C271,139.0701 271,170.5947 271,198.6144 " fill="none" id="ws_app1-nginx" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="271,203.8034,275,194.8034,271,198.8034,267,194.8034,271,203.8034" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="307.5" y="156.5684">uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="272" y="170.9121">[HTTPS port 443]</text><!--link nginx to api--><path d="M271,337.151 C271,369.9041 271,409.4919 271,443.2685 " fill="none" id="nginx-api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="271,448.6376,275,439.6376,271,443.6376,267,439.6376,271,448.6376" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="285.5" y="380.5684">forwards to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="272" y="394.9121">[HTTP port 8080]</text><!--link api to atom_controller--><path d="M188.0843,587.3551 C146.7802,627.4341 101.0444,681.6101 79,741 C24.1761,888.701 98.9368,1069.4188 153.9419,1172.1705 " fill="none" id="api-atom_controller" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="156.3814,1176.701,155.6363,1166.8804,154.0109,1172.2987,148.5926,1170.6732,156.3814,1176.701" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="80" y="806.0684">queries/submits</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="88.5" y="821.3789">Atoms to/from</text><!--link api to rtp--><path d="M364.5871,578.0156 C441.0468,627.0476 548.7762,696.1324 626.3236,745.862 " fill="none" id="api-rtp" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="630.9215,748.8106,625.5049,740.585,626.7126,746.1114,621.1862,747.3192,630.9215,748.8106" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="521" y="661.5684">gets current time</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="565.5" y="676.8789">from</text><!--link atom_controller to cm--><path d="M203,1331.3716 C203,1398.8627 203,1496.5022 203,1565.4742 " fill="none" id="atom_controller-cm" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="203,1570.8053,207,1561.8053,203,1565.8053,199,1561.8053,203,1570.8053" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="204" y="1471.0684">uses</text><!--link cm to crypto--><path d="M187.0786,1725.086 C176.8828,1774.4509 163.8811,1837.4008 154.647,1882.1093 " fill="none" id="cm-crypto" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="153.5965,1887.1953,159.3344,1879.1905,154.6079,1882.2987,151.4998,1877.5722,153.5965,1887.1953" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="175" y="1807.0684">uses</text><!--link tempo to atom_controller--><path d="M225.1043,876.0601 C198.2962,901.2992 172.321,932.3486 158,967 C130.878,1032.6249 147.1994,1112.8741 167.3828,1171.8126 " fill="none" id="tempo-atom_controller" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="169.0932,1176.732,169.9154,1166.9175,167.451,1172.0094,162.3592,1169.545,169.0932,1176.732" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="159" y="1024.0684">queries/submits</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="167.5" y="1039.3789">Atoms to/from</text><!--link atom_controller to atomstore--><path d="M249.7372,1331.3716 C294.3121,1405.1638 360.6578,1514.9965 402.3369,1583.9946 " fill="none" id="atom_controller-atomstore" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="405.046,1588.4795,403.8164,1578.7077,402.4608,1584.1997,396.9687,1582.8441,405.046,1588.4795" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="358" y="1463.5684">write/read Atoms</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="393.5" y="1478.8789">to/from</text><!--link atomstore to db--><path d="M449.0957,1707.8787 C454.7058,1741.0342 463.619,1782.5821 477,1818 C484.2003,1837.0583 494.0932,1856.7146 504.1045,1874.4808 " fill="none" id="atomstore-db" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="506.6507,1878.9553,505.6759,1869.1548,504.1777,1874.6097,498.7229,1873.1115,506.6507,1878.9553" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="478" y="1799.5684">write/read Atoms</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="513.5" y="1814.8789">to/from</text><!--link db to ledger--><path d="M545,1998.2426 C545,2027.798 545,2063.4108 545,2093.1194 " fill="none" id="db-ledger" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="545,2098.2138,549,2089.2138,545,2093.2138,541,2089.2138,545,2098.2138" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="546" y="2041.5684">write/read data and</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="569" y="2056.8789">index to/from</text><!--link tempo to atomsync--><path d="M312.5191,876.2845 C312.0245,934.2378 317.306,1018.6896 346,1086 C362.5056,1124.7188 391.0453,1161.3229 418.1495,1190.4198 " fill="none" id="tempo-atomsync" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="421.7904,1194.2931,418.5407,1184.9958,418.3658,1190.65,412.7117,1190.4751,421.7904,1194.2931" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="347" y="1024.0684">reads/writes Atoms</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="389.5" y="1039.3789">to/from</text><!--link tempo to gossip_service--><path d="M393.6585,876.0182 C424.1564,903.4596 458.9771,935.9677 489,967 C524.5679,1003.7636 608.0424,1102.1818 667.8869,1173.5305 " fill="none" id="tempo-gossip_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="671.4346,1177.7615,668.717,1168.295,668.222,1173.9302,662.5868,1173.4352,671.4346,1177.7615" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="594" y="1024.0684">reads/writes data</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="630" y="1039.3789">to/from</text><!--link tempo to crypto--><path d="M214.4937,869.6465 C193.6467,883.4038 175.4687,896.6738 167,906 C57.9548,1026.0877 57,1091.7906 57,1254 C57,1254 57,1254 57,1802 C57,1831.5322 71.5884,1859.8927 88.7484,1883.037 " fill="none" id="tempo-crypto" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="91.9795,1887.297,89.7276,1877.709,88.9579,1883.3133,83.3537,1882.5436,91.9795,1887.297" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="58" y="1471.0684">uses</text><!--link rtp to gossip_service--><path d="M725.4721,868.1198 C727.4093,946.5779 730.8224,1084.8063 732.9944,1172.7727 " fill="none" id="rtp-gossip_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="733.1227,1177.9689,736.899,1168.8728,732.9991,1172.9704,728.9015,1169.0705,733.1227,1177.9689" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="731" y="1024.0684">reads/writes time</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="767" y="1039.3789">to/from</text><!--link crypto to secrets--><path d="M143,1989.5705 C143,2017.9262 143,2053.6031 143,2084.4716 " fill="none" id="crypto-secrets" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="143,2089.7783,147,2080.7783,143,2084.7783,139,2080.7783,143,2089.7783" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137" x="144" y="2049.0684">write/read node.key</text><!--link rtp to ntp1--><path d="M793.4066,868.0695 C830.5373,899.9376 876.001,938.9576 912.5179,970.2988 " fill="none" id="rtp-ntp1" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="916.4732,973.6935,912.2489,964.7966,912.679,970.4371,907.0386,970.8672,916.4732,973.6935" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="867" y="919.5684">syncs time from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="88" x="877" y="933.9121">[NTP port 123]</text><!--link gossip_service to peermanager--><path d="M718.3164,1330.4343 C701.6067,1406.9881 676.2822,1523.0095 661.3141,1591.5843 " fill="none" id="gossip_service-peermanager" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="660.1657,1596.8457,665.993,1588.9058,661.232,1591.9607,658.177,1587.1997,660.1657,1596.8457" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="699" y="1463.5684">queries/updates</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="711" y="1478.8789">Peers from/to</text><!--link gossip_service to node3--><path d="M839.6706,1270.9285 C918.0577,1286.5691 1026.1159,1314.5671 1112,1361 C1143.2237,1377.881 1173.3864,1404.0247 1195.7867,1426.0011 " fill="none" id="gossip_service-node3" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1199.5951,1429.7707,1196.0126,1420.5965,1196.0415,1426.2533,1190.3848,1426.2822,1199.5951,1429.7707" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="1174" y="1374.5684">gossips to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1156" y="1388.9121">[UDP port 10000]</text><!--link atomsync to node2--><path d="M579.7015,1313.6457 C590.7404,1319.8483 601.9977,1325.7813 613,1331 C636.7023,1342.2427 761.9076,1385.6844 863.1974,1420.2925 " fill="none" id="atomsync-node2" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="868.0021,1421.9336,860.7783,1415.2391,863.2705,1420.3174,858.1923,1422.8096,868.0021,1421.9336" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="802.5" y="1374.5684">syncs to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="778" y="1388.9121">[UDP port 10000]</text><!--link atomsync to peermanager--><path d="M495.83,1313.7556 C505.157,1367.0003 522.6634,1446.1442 552,1510 C565.3483,1539.0546 584.9549,1568.428 603.0535,1592.5633 " fill="none" id="atomsync-peermanager" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="606.1779,1596.6984,603.9438,1587.1063,603.1637,1592.7091,597.5609,1591.929,606.1779,1596.6984" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="553" y="1463.5684">queries/updates</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="565" y="1478.8789">Peers from/to</text><!--link peermanager to db--><path d="M639.1615,1699.105 C631.8257,1733.3345 620.568,1779.082 606,1818 C598.9525,1836.8271 589.7838,1856.5589 580.7051,1874.4778 " fill="none" id="peermanager-db" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="578.4002,1878.9927,586.055,1872.7956,580.6736,1874.5394,578.9297,1869.1581,578.4002,1878.9927" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137" x="617" y="1799.5684">write/read peer info</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13" x="681" y="1814.8789">to</text><!--link node1 to iptables--><path d="M1194,844.9883 C1194,876.7727 1194,923.6118 1194,961.7474 " fill="none" id="node1-iptables" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1194,966.8292,1198,957.8292,1194,961.8292,1190,957.8292,1194,966.8292" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="1213" y="919.5684">gossips to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1195" y="933.9121">[UDP port 10000]</text><!--link iptables to gossip_service--><path d="M1105.7494,1076.6218 C1099.7661,1079.8391 1093.8094,1082.9915 1088,1086 C1007.353,1127.7652 914.5688,1171.7695 844.3698,1204.2611 " fill="none" id="iptables-gossip_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="839.779,1206.3845,849.6268,1206.2368,844.3171,1204.2855,846.2684,1198.9759,839.779,1206.3845" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="1035.5" y="1129.5684">forwards to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1022" y="1143.9121">[UDP port 10000]</text><rect fill="#DDDDDD" height="129.418" rx="5" ry="5" style="stroke: #000000; stroke-width: 1.0;" width="199" x="1111" y="2236"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="0" x="1187" y="2256.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="1192" y="2256.5352">Type</text><rect fill="#08427B" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2259.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1141" y="2273.0234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="1191" y="2273.0234">person</text><rect fill="#686868" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2275.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1141" y="2289.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="1191" y="2289.5117">external person</text><rect fill="#1168BD" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2292.4648"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1129" y="2306"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1191" y="2306">system</text><rect fill="#999999" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2308.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1141" y="2322.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1191" y="2322.4883">external system</text><rect fill="#438DD5" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2325.4414"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1129" y="2338.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1191" y="2338.9766">container</text><rect fill="#85BBF0" height="16.4883" style="stroke: none; stroke-width: 1.0;" width="70" x="1117" y="2341.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1129" y="2355.4648"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1191" y="2355.4648">component</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2243" y2="2243"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2259.4883" y2="2259.4883"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2275.9766" y2="2275.9766"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2292.4648" y2="2292.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2308.9531" y2="2308.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2325.4414" y2="2325.4414"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2341.9297" y2="2341.9297"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1304" y1="2358.418" y2="2358.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1117" x2="1117" y1="2243" y2="2358.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1187" x2="1187" y1="2243" y2="2358.418"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1304" x2="1304" y1="2243" y2="2358.418"/><!--
@startuml c4_node_component






skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}












skinparam rectangle<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam database<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}






hide stereotype
legend right
|=              |= Type |
|<#08427B>      | person |
|<#686868>      | external person |
|<#1168BD>   | system |
|<#999999>      | external system |
|<#438DD5>   | container |
|<#85BBF0>   | component |
endlegend

rectangle "==WebSocket Client\n\n Custom Application that uses the WebSocket API directly or indirectly (lib)." <<external_system>> as ws_app1
rectangle "==Core Node 1\n\n Other Core Node" <<external_system>> as node1
rectangle "==Core Node 2\n\n Other Core Node in an **overlapping** Shard space" <<external_system>> as node2
rectangle "==Core Node 3\n\n Other Core Node" <<external_system>> as node3

rectangle "==NTP Server\n\n Standard Network Time Protocol Server on the internet." <<external_system>> as ntp1

rectangle "==Rate Limiter\n//<size:12>[Container: Linux Kernel]</size>//\n\n DDoS mitigation of Gossip/Sync from malicious/faulty nodes" <<container>> as iptables
rectangle "==Reverse Proxy\n//<size:12>[Container: NGINX/HAProxy in Docker]</size>//\n\n TLS termination, DDoS mitigation, authentication, and filtering of API requests" <<container>> as nginx
database "==Ledger Data\n//<size:12>[Container: Docker Volume]</size>//\n\n stores ledger data, metadata, index, and bloom filter." <<container>> as ledger
database "==Secrets\n//<size:12>[Container: Docker Volume]</size>//\n\n stores node keys, certificates, and API passwords." <<container>> as secrets

rectangle "==RadixCore\n<size:12>[Container]</size>" <<boundary>> as core_nodes {
    rectangle "==HTTP/WebSocket Service\n//<size:12>[Component: Undertow]</size>//\n\n [[http://undertow.io/ Undertow]] is the HTTP/WebSocket server Component." <<component>> as api
    rectangle "==Real-time Atom Controller\n//<size:12>[Component: Radix]</size>//\n\n [[https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines Heirarchical State Machine]] validates Atoms (local state). Multiple HFSMs are running concurrently." <<component>> as atom_controller
    rectangle "==UTXO Constraint Machine\n//<size:12>[Component: Radix]</size>//\n\n [[https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines Heirarchical State Machine]] validates Atoms (local state). Multiple HFSMs are running concurrently." <<component>> as cm

    rectangle "==Crypto Engine\n//<size:12>[Component: Bouncy Castle]</size>//\n\n [[https://www.bouncycastle.org/ Bouncy Castle]] is used for cryptograthic operations." <<component>> as crypto
    rectangle "==Tempo\n//<size:12>[Component: Radix]</size>//\n\n Proprietary Consensus Engine responsible for maintaining a conflict free global state." <<component>> as tempo

    rectangle "==Time Sync Service\n//<size:12>[Component: Radix]</size>//\n\n Service that synchronises wall-clock time between nodes in the network." <<component>> as rtp
    rectangle "==Atom Sync Service\n//<size:12>[Component: Radix]</size>//\n\n Service that synchronises Ledger state between nodes in the **same** shard space." <<component>> as atomsync
    rectangle "==Gossip Service\n//<size:12>[Component: Radix]</size>//\n\n Service that sends/receives Gossip about Atoms and other data (e.g. RTP) to random nodes in the network." <<component>> as gossip_service
    rectangle "==Peer Manager\n//<size:12>[Component: Radix]</size>//\n\n Peer Discovery and Management service" <<component>> as peermanager

    rectangle "==Atom Store\n//<size:12>[Component: Radix]</size>//\n\n Optimises DB access for Radix (e.g. through Bloomfilters)" <<component>> as atomstore
    rectangle "==Key/Value Database\n//<size:12>[Component: Berkeley DB JE]</size>//\n\n Swappable K/V database which stores Atoms and various metadata." <<component>> as db
}

ws_app1 - -> nginx : "===uses\n//<size:12>[HTTPS port 443]</size>//"
nginx - -> api : "===forwards to\n//<size:12>[HTTP port 8080]</size>//"

api - -> atom_controller : "===queries/submits Atoms to/from"
api - -> rtp : "===gets current time from"

atom_controller - -> cm : "===uses"
cm - -> crypto : "===uses"

tempo - -> atom_controller : "===queries/submits Atoms to/from"

atom_controller - -> atomstore : "===write/read Atoms to/from"

atomstore - -> db : "===write/read Atoms to/from"
db - -> ledger : "===write/read data and index to/from"
tempo - -> atomsync : "===reads/writes Atoms to/from"
tempo - -> gossip_service : "===reads/writes data to/from"
tempo - -> crypto : "===uses"
rtp - -> gossip_service : "===reads/writes time to/from"


crypto - -> secrets : "===write/read node.key"
rtp - -> ntp1 : "===syncs time from\n//<size:12>[NTP port 123]</size>//"
gossip_service - -> peermanager : "===queries/updates Peers from/to"
gossip_service - -> node3 : "===gossips to\n//<size:12>[UDP port 10000]</size>//"
atomsync - -> node2 : "===syncs to\n//<size:12>[UDP port 10000]</size>//"
atomsync - -> peermanager : "===queries/updates Peers from/to"
peermanager - -> db : "===write/read peer info to"

node1 - -> iptables : "===gossips to\n//<size:12>[UDP port 10000]</size>//"
iptables - -> gossip_service : "===forwards to\n//<size:12>[UDP port 10000]</size>//"

@enduml

PlantUML version 1.2019.03(Sun Mar 10 12:04:44 CET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: US-ASCII
Language: en
Country: SE
--></g></svg>